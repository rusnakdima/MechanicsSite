<!DOCTYPE html>
<html>
    <head>
        <title>Content Heading</title>
        <meta name="viewport" charset="utf-8" content="width=device-width, initial-scale=1">
        <script src="jquery-3.6.0.min.js"></script>
        <style>
            body{
                font-size: 20pt;
            }
            .borderSpoiler{
                border: 2px solid black;
            }
            li, a{
                color: #00a;
                text-decoration:  none;
            }
        </style>
    </head>
    <body>
        <!--Содержание-->
        <div class="borderSpoiler">
            <details>
                <summary>Содержание</summary>
                <div id="content"></div>
            </details>
        </div>
        <h2 id="anchors1">header1</h2>
        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Enim quibusdam veritatis deserunt, placeat iusto quidem dolore, adipisci error officia eos et esse molestiae, quo vero asperiores impedit possimus numquam maxime.</p>
        <h2 id="anchors2">header2</h2>
        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Enim quibusdam veritatis deserunt, placeat iusto quidem dolore, adipisci error officia eos et esse molestiae, quo vero asperiores impedit possimus numquam maxime.</p>
        <h2 id="anchors3">header3</h2>
        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Enim quibusdam veritatis deserunt, placeat iusto quidem dolore, adipisci error officia eos et esse molestiae, quo vero asperiores impedit possimus numquam maxime.</p>
        <h2 id="anchors4">header4</h2>
        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Enim quibusdam veritatis deserunt, placeat iusto quidem dolore, adipisci error officia eos et esse molestiae, quo vero asperiores impedit possimus numquam maxime.</p>
        <h2 id="anchors5">header5</h2>
        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Enim quibusdam veritatis deserunt, placeat iusto quidem dolore, adipisci error officia eos et esse molestiae, quo vero asperiores impedit possimus numquam maxime.</p>
        <h2 id="anchors6">header6</h2>
        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Enim quibusdam veritatis deserunt, placeat iusto quidem dolore, adipisci error officia eos et esse molestiae, quo vero asperiores impedit possimus numquam maxime.</p>
        <script>
            //Содержание
            var h2 = document.querySelectorAll("h2");
            var content = document.querySelector("#content");
            var ul = document.createElement("ul");
            for (var i = 0; i <= h2.length - 1; i++) {
                var li = document.createElement("li");
                var a = document.createElement("a");
                i++;
                $(a).attr("id", "anc" + i);
                $(a).attr("href", "#anchors" + i);
                i--;
                $(a).text($(h2[i]).text());
                li.appendChild(a);
                ul.appendChild(li);
            }
            content.appendChild(ul);
        </script>
    </body>
</html>