<!DOCTYPE html>
<html>
    <head>
        <title>Content Heading</title>
        <meta name="viewport" charset="utf-8" content="width=device-width, initial-scale=1">
        <script src="jquery-3.6.0.min.js"></script>
        <style>
            body{
                font-size: 20pt;
            }
            .borderSpoiler{
                border: 2px solid black;
            }
            li, a{
                color: #00a;
                text-decoration:  none;
            }
        </style>
    </head>
    <body>
        <!--Содержание-->
        <div class="borderSpoiler">
            <details>
                <summary>Содержание</summary>
                <div id="content"></div>
            </details>
        </div>
        <h2 id="anchors1">header1</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec tincidunt sapien, eget mattis justo. In nec enim at felis laoreet vulputate rutrum ut diam. Sed vitae est vitae velit feugiat scelerisque at et magna. Aenean eros arcu, euismod ac pharetra a, pellentesque sit amet metus. Praesent porttitor auctor lobortis. Curabitur in lorem ac lectus varius venenatis in bibendum eros. Pellentesque consequat sit amet turpis nec accumsan. Duis augue metus, blandit et risus vel, facilisis elementum diam. Nulla id accumsan turpis, eget sagittis massa. Sed non leo sit amet velit accumsan sodales. Cras egestas diam sed tellus rhoncus, et vulputate orci sodales. Vivamus quis lobortis magna, vel ornare nisi. Vestibulum non erat egestas, suscipit magna ut, interdum sem. Aenean dignissim lacus ac diam tincidunt iaculis. Cras tincidunt pharetra mollis. Duis posuere pretium erat.</p>
        <h2 id="anchors2">header2</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec tincidunt sapien, eget mattis justo. In nec enim at felis laoreet vulputate rutrum ut diam. Sed vitae est vitae velit feugiat scelerisque at et magna. Aenean eros arcu, euismod ac pharetra a, pellentesque sit amet metus. Praesent porttitor auctor lobortis. Curabitur in lorem ac lectus varius venenatis in bibendum eros. Pellentesque consequat sit amet turpis nec accumsan. Duis augue metus, blandit et risus vel, facilisis elementum diam. Nulla id accumsan turpis, eget sagittis massa. Sed non leo sit amet velit accumsan sodales. Cras egestas diam sed tellus rhoncus, et vulputate orci sodales. Vivamus quis lobortis magna, vel ornare nisi. Vestibulum non erat egestas, suscipit magna ut, interdum sem. Aenean dignissim lacus ac diam tincidunt iaculis. Cras tincidunt pharetra mollis. Duis posuere pretium erat.</p>
        <h2 id="anchors3">header3</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec tincidunt sapien, eget mattis justo. In nec enim at felis laoreet vulputate rutrum ut diam. Sed vitae est vitae velit feugiat scelerisque at et magna. Aenean eros arcu, euismod ac pharetra a, pellentesque sit amet metus. Praesent porttitor auctor lobortis. Curabitur in lorem ac lectus varius venenatis in bibendum eros. Pellentesque consequat sit amet turpis nec accumsan. Duis augue metus, blandit et risus vel, facilisis elementum diam. Nulla id accumsan turpis, eget sagittis massa. Sed non leo sit amet velit accumsan sodales. Cras egestas diam sed tellus rhoncus, et vulputate orci sodales. Vivamus quis lobortis magna, vel ornare nisi. Vestibulum non erat egestas, suscipit magna ut, interdum sem. Aenean dignissim lacus ac diam tincidunt iaculis. Cras tincidunt pharetra mollis. Duis posuere pretium erat.</p>
        <h2 id="anchors4">header4</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec tincidunt sapien, eget mattis justo. In nec enim at felis laoreet vulputate rutrum ut diam. Sed vitae est vitae velit feugiat scelerisque at et magna. Aenean eros arcu, euismod ac pharetra a, pellentesque sit amet metus. Praesent porttitor auctor lobortis. Curabitur in lorem ac lectus varius venenatis in bibendum eros. Pellentesque consequat sit amet turpis nec accumsan. Duis augue metus, blandit et risus vel, facilisis elementum diam. Nulla id accumsan turpis, eget sagittis massa. Sed non leo sit amet velit accumsan sodales. Cras egestas diam sed tellus rhoncus, et vulputate orci sodales. Vivamus quis lobortis magna, vel ornare nisi. Vestibulum non erat egestas, suscipit magna ut, interdum sem. Aenean dignissim lacus ac diam tincidunt iaculis. Cras tincidunt pharetra mollis. Duis posuere pretium erat.</p>
        <h2 id="anchors5">header5</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec tincidunt sapien, eget mattis justo. In nec enim at felis laoreet vulputate rutrum ut diam. Sed vitae est vitae velit feugiat scelerisque at et magna. Aenean eros arcu, euismod ac pharetra a, pellentesque sit amet metus. Praesent porttitor auctor lobortis. Curabitur in lorem ac lectus varius venenatis in bibendum eros. Pellentesque consequat sit amet turpis nec accumsan. Duis augue metus, blandit et risus vel, facilisis elementum diam. Nulla id accumsan turpis, eget sagittis massa. Sed non leo sit amet velit accumsan sodales. Cras egestas diam sed tellus rhoncus, et vulputate orci sodales. Vivamus quis lobortis magna, vel ornare nisi. Vestibulum non erat egestas, suscipit magna ut, interdum sem. Aenean dignissim lacus ac diam tincidunt iaculis. Cras tincidunt pharetra mollis. Duis posuere pretium erat.</p>
        <h2 id="anchors6">header6</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nec tincidunt sapien, eget mattis justo. In nec enim at felis laoreet vulputate rutrum ut diam. Sed vitae est vitae velit feugiat scelerisque at et magna. Aenean eros arcu, euismod ac pharetra a, pellentesque sit amet metus. Praesent porttitor auctor lobortis. Curabitur in lorem ac lectus varius venenatis in bibendum eros. Pellentesque consequat sit amet turpis nec accumsan. Duis augue metus, blandit et risus vel, facilisis elementum diam. Nulla id accumsan turpis, eget sagittis massa. Sed non leo sit amet velit accumsan sodales. Cras egestas diam sed tellus rhoncus, et vulputate orci sodales. Vivamus quis lobortis magna, vel ornare nisi. Vestibulum non erat egestas, suscipit magna ut, interdum sem. Aenean dignissim lacus ac diam tincidunt iaculis. Cras tincidunt pharetra mollis. Duis posuere pretium erat.</p>
        <script>
            //Содержание
            var h2 = document.querySelectorAll("h2");
            var content = document.querySelector("#content");
            var ul = document.createElement("ul");
            for (var i = 0; i <= h2.length - 1; i++) {
                var li = document.createElement("li");
                var a = document.createElement("a");
                i++;
                $(a).attr("id", "anc" + i);
                $(a).attr("href", "#anchors" + i);
                i--;
                $(a).text($(h2[i]).text());
                li.appendChild(a);
                ul.appendChild(li);
            }
            content.appendChild(ul);
        </script>
    </body>
</html>